<div class="calendar-container">
  <!-- calendar types filter list of checkboxes -->
  <div class="calendar-filter">
    <ul class="calendar-filter-list">
      <li class="calendar-filter-item" *ngFor="let filter of calendarFilters">
        <button
          class="calendar-filter-btn"
          [ngClass]="filtersActive.includes(filter) ? 'checked' : ''"
          (click)="handleCheckboxClick(filter)"
        >
          {{ filter }}
        </button>
      </li>
      <li class="calendar-filter-item">
        <button
          [ngClass]="allMarked ? 'checked' : ''"
          class="calendar-filter-btn"
          (click)="filterAllEvents()"
        >
          Sve
        </button>
      </li>
    </ul>
  </div>
  <nav class="calendar-nav">
    <button class="calendar-nav-btn active">
      <span class="arrow"></span>
      Dnevni Kalendar
    </button>
    <button class="calendar-nav-btn">
      <span class="arrow"></span>Nedeljni Kalendar
    </button>
  </nav>
  <div class="calendar-header">
    <button class="calendar-header-button" (click)="previusDay()">
      <i class="fa-solid fa-chevron-left"></i>
    </button>
    <div class="calendar-header-label">
      {{ selectedDate | date : "dd MMMM yyyy" }}
    </div>
    <button class="calendar-header-button" (click)="nextDay()">
      <i class="fa-solid fa-chevron-right"></i>
    </button>
  </div>
  <ul class="calendar-body">
    <ng-container
      *ngFor="let event of selectedEventByDay.events; let i = index"
    >
      <li class="calendar-event" *ngIf="event.display">
        <div class="calendar-event-header" (click)="flip(i)">
          <div class="calendar-time">{{ event.time }}</div>
          <div class="calendar-title">
            {{ event.title }}
          </div>
          <span class="spacer"></span>
          <div class="calendar-arrow-wrapper">
            <i
              class="calendar-arrow"
              [ngClass]="{ up: arrowIndex !== i, down: arrowIndex === i }"
            ></i>
          </div>
        </div>
        <div
          class="event-body-wrapper"
          [@eventAnimationsState]="getEventState(i)"
          [ngClass]="getEventState(i)"
        >
          <div
            class="event-body"
            [innerHTML]="event.content | sanitizeHtml"
          ></div>
        </div>
      </li>
    </ng-container>
  </ul>
</div>
